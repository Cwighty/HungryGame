@inject GameInfo gameInfo

<h3>Board</h3>

<table>
    @for (int row = 0; row < gameInfo.MaxRows; row++)
    {
        <tr>
            @for (int col = 0; col < gameInfo.MaxCols; col++)
            {
                var cell = gameInfo.GetCell(row, col) ?? throw new CellNotFoundException();

                <td>
                    <span class="text-center">
                    @(cell.OccupiedBy?.Id.ToString() ?? (cell.IsPillAvailable ? CellIcon : ""))
                    </span>
                </td>
            }
        </tr>
    }
</table>

@code {
    [Parameter][EditorRequired]
    public string? CellIcon{  get;  set; }

    protected override void OnInitialized()
    {
        gameInfo.GameStateChanged += (_, _) => InvokeAsync(() => StateHasChanged());
    }
}
