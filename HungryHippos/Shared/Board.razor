@inject GameInfo gameInfo

<h3>Board</h3>

<table>
    @for (int row = 0; row < gameInfo.MaxRows; row++)
    {
        <tr>
            @for (int col = 0; col < gameInfo.MaxCols; col++)
            {
                var cell = gameInfo.GetCell(row, col) ?? throw new CellNotFoundException();

                <td>
                    <span class="text-center">
                    @(cell.OccupiedBy?.Id.ToString() ?? (cell.IsPillAvailable ? (SharedState?.CellIcon ?? "?") : UnicodeFigureSpace_U2007))
                    </span>
                </td>
            }
        </tr>
    }
</table>

@code {
    const string UnicodeFigureSpace_U2007 = " ";

    [CascadingParameter]
    public SharedStateClass SharedState{  get;  set; }

    protected override void OnInitialized()
    {
        gameInfo.GameStateChanged += (_, _) => InvokeAsync(() => StateHasChanged());
    }
}
